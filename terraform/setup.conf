# [로컬 최적화] AWS 공급자를 삭제하고 쿠버네티스 설정만 남깁니다.

variable "kubernetes_config_path" {
  # 젠킨스 에이전트 환경에 따라 경로가 달라질 수 있으므로 변수로 유지합니다.
  default = "~/.kube/config"
}

provider "kubernetes" {
  config_path = var.kubernetes_config_path
}

# AWS provider 블록을 삭제했습니다. 
# 로컬 클러스터 전용이므로 AWS 인증이 필요 없습니다.

# 앱이 배포될 공통 네임스페이스 정의
resource "kubernetes_namespace" "ns" {
  metadata {
    name = "prgms-notes"
  }
}